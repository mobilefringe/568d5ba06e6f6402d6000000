<section class="template_banner">
    <div class = "inside_container">
        <h2 class="text-center inside_main_header col-md-6" id="mm_post_title">MALL MAVERICK WEBSITE TEMPLATES</h2>
        <p class="text-center desc banner_text" id="mm_post_author"></p>
        <img id="template_banner_image" src="//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1496674819000/List Page Mockup 1x.png" class="" alt="">
    </div>
</section>
<img id="orange_line" src="http://assets.codecloudapp.com/sites/568d5ba06e6f6402d6000000/image/png/1497030625000/Orange Line.png" class="" alt="">
<section class="button_bar">
    <div>
        <div class="inside_container" style="text-align:center" >
            <!--<h3>Mall Maverick Provides... </h3>-->
            <a class="template_btn " href="#premium" id="premium">
                <label> Premium </label>
            </a>
            <a class="template_btn " href="#standard" id="standard" >
                <label> Standard </label>
            </a>
            <a class="template_btn " href="#custom" id="custom">
                <label> Custom </label>
            </a>
        </div>
    </div>
</section>
<section class="margin_100">
    <div class="inside_container">
        <div class="row">
            <div id="premium_design_container">            
                <script id="premium_design_template" type="x-tmpl-mustache/text">
                    <div class="col-md-4 design_template">
                        <a href="/templates/{{slug}}">
                            <img src="{{image_url}}" alt="Design Template"/>
                            <h3>{{title}}</h3>
                        </a>
                    </div>
                </script>
            </div>
            <div id="standard_design_container">            
                <script id="standard_design_template" type="x-tmpl-mustache/text">
                    <div class="col-md-4 design_template">
                        <a href="/templates/{{slug}}">
                            <img src="{{image_url}}" alt="Design Template"/>
                            <h3>{{title}}</h3>
                        </a>
                    </div>
                </script>
            </div>
            <div id="custom_design_container">            
                <script id="custom_design_template" type="x-tmpl-mustache/text">
                    <div class="col-md-4 design_template">
                        <a href="/templates/{{slug}}">
                            <img src="{{image_url}}" alt="Design Template"/>
                            <h3>{{title}}</h3>
                        </a>
                    </div>
                </script>
            </div>
        </div>
    </div>
</section>

<script>
    $(document).ready(function(e) {
        init(e);
        loadMallDataCached(renderAll); 
    });
    function renderAll(){
        var templates = getBlogDataBySlug("home-templates").posts;
        //console.log(templates);
         //renderGeneral('#design_container','#design_template', templates);
        var sorted_p_templates = [];
       $.each(templates, function(key, val) {
            $.each( val.tag , function( tag_key, tag ) {
                //val.taglist = val.taglist + " " + tag;
                if(tag == "Premium"){
                    sorted_p_templates.push(val);
                }
             });
        });
        renderGeneral('#premium_design_container','#premium_design_template', sorted_p_templates);
        var sorted_s_templates = [];
       $.each(templates, function(key, val) {
            $.each( val.tag , function( tag_key, tag ) {
                //val.taglist = val.taglist + " " + tag;
                if(tag == "Standard"){
                    sorted_s_templates.push(val);
                }
             });
        }); 
        //console.log(sorted_templates);
        renderGeneral('#standard_design_container','#standard_design_template', sorted_s_templates);
        
        var sorted_c_templates = [];
       $.each(templates, function(key, val) {
            $.each( val.tag , function( tag_key, tag ) {
                //val.taglist = val.taglist + " " + tag;
                if(tag == "Custom"){
                    sorted_c_templates.push(val);
                }
             });
        });
        //console.log(sorted_templates);
       // renderGeneral('#design_container','#design_template', sorted_c_templates);
            
        if(window.location.href.indexOf("#") == -1) {
           window.location.assign("#premium");
           $("#premium").addClass("active_templ_btn");
        }
        // if(window.location.href.indexOf("#premium") > -1) {
           
        //     console.log("bro");
        // }
        // else if(window.location.href.indexOf("#standard") > -1) {
            
        // }
        // else if(window.location.href.indexOf("#custom") > -1) {
            
        // }
        $("#premium").click(function() {
           
            //console.log(sorted_templates);
            //$("#design_container").hide();
            $('#premium_design_container').show();
            $('#standard_design_container').hide();
            $('#custom_design_container').hide();
            $("#premium").addClass("active_templ_btn");
            $("#standard").removeClass("active_templ_btn");
            $("#custom").removeClass("active_templ_btn");
        });
        $("#standard").click(function() {
           
            //console.log(sorted_templates);
            $('#premium_design_container').hide();
            $('#standard_design_container').show();
            $("#standard").addClass("active_templ_btn");
            $("#premium").removeClass("active_templ_btn");
            
            $("#custom").removeClass("active_templ_btn");
        });
        $("#custom").click(function() {
            
            $("#custom").addClass("active_templ_btn");
            $("#premium").removeClass("active_templ_btn");
            $("#standard").removeClass("active_templ_btn");
        });
    }
</script>