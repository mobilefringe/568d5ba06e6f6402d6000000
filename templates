<style>
    #custom_design_container {
       
        border-radius: 20px;
        background-color: #fff;
        margin: 0 150px; 
        padding: 40px 30px 220px;
        text-align: center;

    }
    #custom_design_container h4{
        font-weight:normal;
        color: #000000;
        line-height: 35px;
        padding-bottom: 10px;
    }
    #custom_design_container p {
      padding: 30px;
    }
    #orange_line {
        width: 75%;
    }
</style>

<section class="template_banner hidden_phone">
    <div class = "inside_container">
        <h2 class="text-center inside_main_header col-md-6 col-sm-6 col-xs-12" id="mm_post_title">MALL MAVERICK WEBSITE DESIGNS</h2>
        <br/>
        <p class="text-center desc banner_text" id="mm_post_author"></p>
        <img id="template_banner_image" src="//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1497888964000/Pattern Asset.png" class="hidden_phone template_banner_image" alt="">
            <img id="template_banner_image" src="//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1497888964000/Pattern Asset.png" class="show_phone template_banner_image" alt="">
    </div>
</section>
<section class="template_banner show_phone">
    <div class = "inside_container">
        <h2 class="text-center inside_main_header col-md-6 col-sm-12 col-xs-12" id="mm_post_title">MALL MAVERICK WEBSITE DESIGNS</h2>
        <p class="text-center desc banner_text" id="mm_post_author"></p>
        <img id="template_banner_image" src="//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1497550735000/Desktop Custom .png" class="hidden_phone template_banner_image" alt="">
            <img id="template_banner_image" src="//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1497550720000/Mobile Custom Cover-01-01.png" class="show_phone template_banner_image" alt="">
    </div>
</section>
<!--<img id="orange_line" src="http://assets.codecloudapp.com/sites/568d5ba06e6f6402d6000000/image/png/1497030625000/Orange Line.png" class="" alt="">-->
<section class="button_bar">
    <div class="col-md-12 ">
        <div class="inside_container " style="text-align:center" >
            <!--<h3>Mall Maverick Provides... </h3>-->
            <div class="col-md-3 col-sm-2 col-xs-12">
                
            </div>
            <div class="col-md-2 col-sm-3 col-xs-12 template_btn_container">
                <a class="template_btn active_templ_btn" href="#premium" id="premium">
                <label> Premium </label>
            </a>
            </div >
            <div class="col-md-2 col-sm-3 col-xs-12 template_btn_container">
                <a class="template_btn " href="#standard" id="standard" >
                <label> Standard </label>
            </a>
            </div>
            <div class="col-md-2 col-sm-3 col-xs-12 template_btn_container">
                <a class="template_btn " href="#custom" id="custom">
                <label> Custom </label>
            </a>
            </div>
             <div class="col-md-3 col-sm-1 col-xs-12">
                
            </div>
        </div>
    </div>
</section>
<section id="template_content" class="margin_100">
    <div class="inside_container">
        <div class="row">
            <div id="premium_design_container">            
                <script id="premium_design_template" type="x-tmpl-mustache/text">
                
                    <div class="col-md-4 design_template">
                    <div class="template_padding">
                <img src="//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1497284935000/New_Template_Icon.png" class="new_template " alt="" style="{{is_new}}">
                        <a href="/templates/{{slug}}">
                            <img src="{{image_url}}" alt="Design Template"/>
                            <h3>{{title}}</h3>
                        </a>
                    </div>
                    </div>
                </script>
            </div>
            <div id="standard_design_container"  class="hidden_now">            
                <script id="standard_design_template" type="x-tmpl-mustache/text">
                
                    <div class="col-md-4 col-sm-6 design_template">
                     <div class="template_padding">
                <img src="//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1497284935000/New_Template_Icon.png" class="new_template " alt="" style="{{is_new}}">
                        <a href="/templates/{{slug}}">
                            <img src="{{image_url}}" alt="Design Template"/>
                            <h3>{{title}}</h3>
                        </a>
                    </div>
                    </div>
                </script>
            </div>
            <div id="custom_design_container" class="hidden_now">
                <div class="col-md-12 col-sm-12 col-xs-12">
                    <h4> This design process asks for creative input and offers for full customization and exclusivity on all design and development.</h4>
                     <img id="orange_line" src="http://assets.codecloudapp.com/sites/568d5ba06e6f6402d6000000/image/png/1497030625000/Orange Line.png" class="" alt="">
                     <p>
                        
                         Projects in this space are priced out individually after a discovery meeting with the shopping centre.
                     </p>   
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    $(document).ready(function(e) {
        init(e);
        loadMallDataCached(renderAll); 
        window.scrollTo(0, 0);
        // if(window.location.href.indexOf("#") == -1) {
            
        //   window.location.assign("#premium");
        //     // var x = window.pageXOffset,
        //     //     y = window.pageYOffset;
        //     // $(window).one('scroll', function () {
                
        //     // });
        //   $("#premium").addClass("active_templ_btn");
        //   $("#premium").trigger( "click" );
        //   window.scrollTo(0, 0);
        // }
        if(window.location.href.indexOf("#premium") > -1) {
            //  var x = window.pageXOffset,
            //     y = window.pageYOffset;
            // $(window).one('scroll', function () {
            //     window.scrollTo(x, y);
            // });
            
            changePremiumBG();
            $("#premium").addClass("active_templ_btn");
           $("#premium").trigger( "click" );
           window.scrollTo(0, 0);
           
        }
        else if(window.location.href.indexOf("#standard") > -1) {
            //  var x = window.pageXOffset,
            //     y = window.pageYOffset;
            // $(window).one('scroll', function () {
            //     window.scrollTo(x, y);
            // });
            
            $("#standard").addClass("active_templ_btn");
            $("#standard").trigger( "click" );
            console.log("trigger click!");
            changeStandardBG();
            window.scrollTo(0, 0);
       
            
        }
        else if(window.location.href.indexOf("#custom") > -1) {
            //  var x = window.pageXOffset,
            //     y = window.pageYOffset;
            // $(window).one('scroll', function () {
            //     window.scrollTo(x, y);
            // });
           
             $("#custom").addClass("active_templ_btn");
            $("#custom").trigger( "click" );
            changeCustomBG();
         window.scrollTo(0, 0);
        }
    });
    
    
    function changePremiumBG (){
        console.log("changing premium");
        $(".template_banner_image").removeAttr( 'style' );
        $("#template_content").removeAttr( 'style' );
        $(".button_bar").removeAttr( 'style' );
        $(".template_banner_image").removeClass("custom_tab");
        $(".template_banner_image").removeClass("standard_tab");
        $(".hidden_phone.template_banner").css({"background-image":"url('//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1497890003000/Pattern.png')", "background-size": "100% 100%"});
        $(".show_phone.template_banner").css({"background-image":"url('//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1497970490000/PremiumPatternM.png')", "background-size": "100% 100%"});
        $(".show_phone.template_banner_image").attr('src', '//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1497888964000/Pattern Asset.png'); 
       $(".hidden_phone.template_banner_image").attr('src', '//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1497888964000/Pattern Asset.png');
       $("#mm_post_title").text("MALL MAVERICK WEBSITE DESIGNS");
    }
    function changeStandardBG (){
        $(".template_banner_image").removeClass("custom_tab");
        $(".template_banner_image").removeClass("standard_tab");
        $(".template_banner_image").removeAttr( 'style' );
        $(".button_bar").removeAttr( 'style' );
        $("#template_content").removeAttr( 'style' );
       $(".hidden_phone.template_banner").css({"background-image":"url('//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1497984708000/StandardBG.png')", "background-size": "100% 100%"});
       $(".show_phone.template_banner").css({"background-image":"url('//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1497984708000/StandardBGM.png')", "background-size": "100% 100%"});
         $(".template_banner_image").addClass("standard_tab");
       $(".show_phone.template_banner_image").attr('src', '//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1497903662000/Standard Asset (1).png'); 
       $(".hidden_phone.template_banner_image").attr('src', '//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1497901852000/Standard Page Asset.png'); 
       //$(".show_phone.template_banner_image").css({"max-width":"380px", "top":"500px"});
       $("#mm_post_title").text("MALL MAVERICK WEBSITE DESIGNS");
     }
    function changeCustomBG (){
        // Remove other styles
        $(".template_banner_image").removeClass("custom_tab");
        $(".template_banner_image").removeClass("standard_tab");
        $(".template_banner_image").removeAttr( 'style' );
        
        $(".hidden_phone.template_banner").css("background-color","#fff");
        $(".show_phone.template_banner").css({"background-image":"url('//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1497987060000/CustomBGM.png')", "background-size": "100% 100%"});
        $(".template_banner_image").addClass("custom_tab");
        $(".show_phone.template_banner_image").attr('src', '//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1497550720000/Mobile Custom Cover-01-01.png'); 
       $(".hidden_phone.template_banner_image").attr('src', '//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1499356255000/Mockupasset.png');
       $(".custom_tab.hidden_phone.template_banner_image").css({"max-width":"300px", "left":"8%","top": "130px"});
       
       
       //Custom page changes
       $("#template_content").css({"background-image":"url('//codecloud.cdn.speedyrails.net/sites/568d5ba06e6f6402d6000000/image/png/1499356265000/imageassetmain.png')", "background-size": "cover","padding": "100px 80px 90px 80px", "margin-bottom":"0"});
       $(".button_bar").css({"margin-bottom": "70px"});
       $("#mm_post_title").text("Spend time with our designers");
       $("#mm_post_author").text("and help them understand the vision that encaptures the uniqueness of your shopping centre.");
       $("#mm_post_title").css({"text-align": "right", "color" : "#000"});
       $("#mm_post_author").css({"text-align": "right", "color" : "#000"});
       // $("#custom_design_container").css({"background-color": "#fff","margin": "0 150px", "padding": "40px 30px 300px"});
     }
    function renderAll(){
        var templates = getBlogDataBySlug("home-templates").posts;
        //console.log(templates);
         //renderGeneral('#design_container','#design_template', templates);
        var sorted_p_templates = [];
       $.each(templates, function(key, val) {
            $.each( val.tag , function( tag_key, tag ) {
                //val.taglist = val.taglist + " " + tag;
                if(tag == "Premium"){
                    sorted_p_templates.push(val);
                }
                if(tag == "is_new"){
                    val.is_new ="display:block";
                }
                else {
                    val.is_new ="display:none";
                }
             });
        });
        renderGeneral('#premium_design_container','#premium_design_template', sorted_p_templates);
        var sorted_s_templates = [];
       $.each(templates, function(key, val) {
            $.each( val.tag , function( tag_key, tag ) {
                //val.taglist = val.taglist + " " + tag;
                if(tag == "Standard"){
                    sorted_s_templates.push(val);
                }
                if(tag == "is_new"){
                    val.is_new ="display:block";
                }
                else {
                    val.is_new ="display:none";
                }
             });
        }); 
        //console.log(sorted_templates);
        renderGeneral('#standard_design_container','#standard_design_template', sorted_s_templates);
        
        
        $("#premium").click(function(e) {
            changePremiumBG();
            //$("#design_container").hide();
            $('#premium_design_container').show();
            $('#standard_design_container').hide();
            $('#custom_design_container').hide();
            
            
            $("#premium").addClass("active_templ_btn");
            $("#standard").removeClass("active_templ_btn");
            $("#custom").removeClass("active_templ_btn");
            
            var x = window.pageXOffset,
                y = window.pageYOffset;
            $(window).one('scroll', function () {
                window.scrollTo(x, y);
            });
        });
        $("#standard").click(function(e) {
            
            changeStandardBG();
            
            $('#premium_design_container').hide();
            $('#standard_design_container').show();
            $('#custom_design_container').hide();
            
            $("#standard").removeClass("active_templ_btn")
            $("#standard").addClass("active_templ_btn");
            $("#premium").removeClass("active_templ_btn");
            $("#custom").removeClass("active_templ_btn");
            
            var x = window.pageXOffset,
                y = window.pageYOffset;
            $(window).one('scroll', function () {
                window.scrollTo(x, y);
            });
        });
        $("#custom").click(function(e) {
            changeCustomBG();
            $('#custom_design_container').show();
            $('#premium_design_container').hide();
            $('#standard_design_container').hide();
            
            $("#custom").removeClass("active_templ_btn")
            $("#custom").addClass("active_templ_btn");
            $("#premium").removeClass("active_templ_btn");
            $("#standard").removeClass("active_templ_btn");
            
            var x = window.pageXOffset,
                y = window.pageYOffset;
            $(window).one('scroll', function () {
                window.scrollTo(x, y);
            });
        });
    }
</script>